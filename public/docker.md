# Dockerとは？

自分のPCの中にもう一つの小さなPC（コンテナ型仮想化環境）を構築してその中に、
アプリケーションを動かすために必要なプログラム、サーバー、データベースを入れて、アプリケーションを動かしていく仕組みです。

# Dockerの特徴

Dockerの特徴はホストOSのカーネルを使用してコンテナを動かすところにあります。



従来、使われていたホスト型仮想化と比較すると図のように異なります。

図のように、ホスト型仮想化はホストOSとは別に、仮想化環境にゲストOSを用意して動作させています。

比べてコンテナ型仮想化はコンテナ内でホストPCのOSカーネルを使用することで軽量でオーバーヘッド（追加のリソースや時間）が少なく動作することができます。

※　カーネルとは、OSの中心的な役割で、ハードウェアとソフトウェアの間を仲介しメモリ管理、プロセス管理（プログラムの実行管理）を行います。

# Dockerを使うメリット

1. 開発環境の素早い立ち上げ！
    - 先ほど、Dockerの特徴でも記載している、ホストPCのカーネルを使用していることから軽量に動作するため、コンテナを起動させることですぐにプログラムを実行確認することが出来ます。

1. 開発環境の共有が簡単！
    - dockerを構築するコンテナイメージを使用することで同じ開発チームメンバーと環境を揃えて開発を進めていくことができます。これにより、チーム1人のPCでは動作するけど、他メンバーでは動かない！そんなトラブルを減らすことが出来ます。またアプリケーションを本番環境にリリースする際にも役立ちます。本サーバーにリリースする際にも同じコンテナイメージを使用することで簡単にアプリをリリースすることが出来ます。

1. コンテナごと環境の分離
    - コンテナごと環境は隔離されるため、異なるバージョンやライブラリを使用しても、ひとつのPCで問題なく動作します。

# Dockerを動かすために知っておきたいこと

ここからはdockerを使ってコンテナを起動させるために知っておきたいことをご紹介します！

## Dockerコンテナ

Dockerコンテナは


## Dockerイメージ

Dockerイメージとはコンテナを動かすためのパッケージようなもので、
後述するDockerfileに記載するベースイメージをもとに作成されます。

例えばpythonアプリケーションを動かすためには、以下が必要になります。

- pythonそのもの
- 設定ファイル
- 依存関係：動作するための必要なライブラリ等

これらを全てまとめてパッケージにしたものがDockerイメージになります。

## Dockerfile

```Dockerfile
# ベースイメージとしてPython 3.8を使用
FROM python:3.8-slim

# Pythonスクリプトを直接Dockerfile内に書き込む
RUN echo 'print("Hello, World from Docker!")' > /hello.py

# コンテナ起動時に実行するコマンドを指定
CMD ["python", "/hello.py"]
```




さて実際にdockerを使ってコンテナを起動させる流れを見ていきたい


# コンテナを作って動かす流れ

1. Dockerfileを作成
2. Dockerfileを基にイメージを作成（build）される
3. Dockerイメージを実行（run）してコンテナが作成される
4. コンテナを起動


## コンテナビルド

docker-compose build

イメージのビルドを行い、それを実行する前の段階での作業です。コンテナを起動する前に、イメージを作成する必要があります。

## コンテナ起動

docker-compose up
